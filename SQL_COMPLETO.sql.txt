--QUERY UTENZE E PROFILATURA
SELECT *
FROM SI_USER
WHERE US_LOGIN='UTENTE_AP';

SELECT *
FROM SI_UFFROL
WHERE UR_CODICE IN ('U_AP', 'R_AP');

SELECT *
FROM SI_USERROLE
WHERE UU_LOGIN='UTENTE_AP';
--7247168

--QUERY CHIAVI DI PROFILATURA
SELECT *
FROM SI_KEYRAD
WHERE KR_KEY=3500001585;

SELECT *
FROM SI_KEYRAD_PARAM
WHERE KP_VALUE='Inserimento paziente';

SELECT *
FROM SI_KEYRAD_DATI
WHERE KD_KEY=3500000005
AND KD_UFFROL='R_AP';

SELECT *
FROM SI_KEYRAD_DATIUTENTE
WHERE KD_KEY=3500000005
AND KD_USERROLE=7247168;

--EXTRADATA
SELECT *
FROM SI_EXTRADATA
WHERE ED_PROPRIETA='EXTRAPAG';

SELECT *
FROM SI_KEYRAD
WHERE KR_NOME LIKE '%EData_2021%';

SELECT *
FROM SI_KEYRAD_DATI
WHERE KD_KEY=90000081950;

SELECT *
FROM SA_COMUNE
WHERE CM_ID='001249';

--LOOKUP
SELECT *
FROM SI_LOOKUP;

--AGENT E DEMONI
SELECT *
FROM SI_DEMONESERVER
WHERE DS_CODICE='DEM_FORM';

SELECT *
FROM SI_WEBAPP
WHERE WA_ID=166;

SELECT WA_ID, COUNT(*)
FROM SI_DEMONESERVER, SI_WEBAPP
WHERE DS_WEBAPP = WA_ID
AND DS_STATO='S'
group by wa_Id;

SELECT *
FROM SI_AGENTS
WHERE SA_SERVER='DEM_FORM';

--MAIL
SELECT *
FROM SI_MAIL;

SELECT *
FROM si_send_mail;

SELECT *
FROM SI_CONFIG_MAIL;

--AUDITING E LOG
SELECT *
FROM SI_AUDITINGLOG;

SELECT *
FROM SI_APPLOG;

SELECT *
FROM SI_MESSAGING;

--WORKFLOW
SELECT *
FROM WF_PROCESS
WHERE WP_CODE='TEST_WF';

SELECT *
FROM WF_PROCESS_VERSION
WHERE PV_PROCESS=212;

SELECT *
FROM WF_PROCESS_INSTANCE
WHERE PI_PROCESS=769;
/*
I Istanziato
R In esecuzione
S Sospeso
C Completato
T Terminato
E Terminato con errori
*/

SELECT *
FROM WF_ACTIVITY_RELEVANT
WHERE AR_PROCESS=25089172;

--LIQUIBASE
SELECT *
FROM DATABASECHANGELOG;

SELECT *
FROM DATABASECHANGELOGLOCK;

SELECT *
FROM DATABASECHANGELOGERROR;

SELECT *
FROM SI_HDM_STATUS;

--TABELLE GENERICHE
SELECT *
FROM SI_TTABGEN
WHERE TG_COD='DAYS_OF_THE_WEEK';

SELECT *
FROM SI_ETABGEN
WHERE EG_TCOD='DAYS_OF_THE_WEEK';


--OGGETTI PUBBLICI
SELECT *
FROM SI_OGGETTIPUBBLICI;

SELECT *
FROM SI_ENTITAAPP;

SELECT *
FROM SI_DEMONEMSG;
--Definizione dei messaggi

SELECT *
FROM SI_ENTITADEMONEMSG;
--legame messaggi all'entit√†

SELECT *
FROM SI_ENTITADEMONE;
--associazione entita demone

--SOGGETTI
SELECT *
FROM SA_PERSONA
WHERE PF_ID='1628233';

SELECT *
FROM SA_PERS_IND
WHERE PR_ID='1628233';

SELECT *
FROM SA_RAPP_INDIV
WHERE RI_PERSONA='1628233';


--STRUTTURE
SELECT *
FROM SA_STRUTTURA
WHERE SR_CODICE LIKE 'EROG_FORM%';

SELECT *
FROM SA_STRRICL
where SL_CODICE='RICL_FORM';

SELECT *
FROM SA_STRGER
WHERE SG_RICL='RICL_FORM';

SELECT *
FROM SA_STRUTTURA
WHERE SR_ID=316770;

SELECT *
FROM SI_KEYRAD
WHERE KR_NOME LIKE '%sianc.strutture.risorsaStrutture%';

SELECT *
FROM SI_USERROLE
WHERE UU_LOGIN='MARIO.ROSSI';

SELECT *
FROM SI_KEYRAD_DATIUTENTE
WHERE KD_KEY=3500000912
AND KD_USERROLE=7247141
AND KD_DIM = 'SA_EROG';


--PAZIENTE
SELECT *
FROM SA_PAZIENTE
WHERE PZ_COGN='ROSSI';

SELECT *
FROM SA_PROPOSTE
WHERE PR_ID='3456602'
AND PR_CAMPO='PZ_FSTATO'
order by PR_DT_INS DESC;
/*
A Attuale
C Certificato
T Temporaneo
R Rifiutato
*/

SELECT *
FROM SI_ALIASCRITERI
WHERE AC_LOOKUP='SA_PAZIENTE';

SELECT *
FROM si_aliasccampi
where CC_CRITERIO=19;

SELECT *
FROM SI_ALIAS;
/*
N - Non eseguito
R - Rifiuta
D - Da eseguire
E - Eseguito (merge)
U - Da disaccorpare
*/

SELECT *
FROM si_aliasswiper;

SELECT *
FROM SI_AGENTS
WHERE UPPER(SA_DESCR) LIKE '%SWEEPER%';
